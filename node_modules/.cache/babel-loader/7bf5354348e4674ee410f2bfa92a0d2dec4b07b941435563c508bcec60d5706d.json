{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { toast } from 'bulma-toast';\nexport default {\n  name: 'EditTeam',\n  data() {\n    return {\n      team: {}\n    };\n  },\n  async mounted() {\n    await this.getOrCreateTeam();\n  },\n  methods: {\n    getOrCreateTeam() {\n      axios.get('/api/v1/teams/').then(response => {\n        this.team = response.data[0];\n      }).catch(error => {\n        console.log(JSON.stringify(error));\n      });\n    },\n    validateZipCode(zipcode) {\n      const regex = /^\\d{2}-\\d{3}$/; // Pattern for \"00-000\"\n      return regex.test(zipcode);\n    },\n    zipcodeInput() {\n      let zipcode_text = this.client.zipcode || '';\n\n      // Allow backspace and delete\n      if (zipcode_text.length === 6 && event.inputType === 'deleteContentBackward') {\n        zipcode_text = zipcode_text.substring(0, 6);\n      } else if (zipcode_text.length === 3 && event.inputType === 'deleteContentBackward') {\n        zipcode_text = zipcode_text.substring(0, 2);\n      }\n\n      // Add \"-\" after the first two characters\n      if (zipcode_text.length === 2 && event.inputType !== 'deleteContentBackward') {\n        zipcode_text += '-';\n      }\n      this.client.zipcode = zipcode_text;\n    },\n    submitForm() {\n      axios.patch(`/api/v1/teams/${this.team.id}/`, this.team).then(response => {\n        toast({\n          message: 'Zmiany zostały zapisane',\n          type: 'is-success',\n          dismissible: true,\n          pauseOnHover: true,\n          duration: 2000,\n          position: 'bottom-right'\n        });\n        this.$router.push('/dashboard/my-account');\n      }).catch(error => {\n        console.log(JSON.stringify(error));\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","toast","name","data","team","mounted","getOrCreateTeam","methods","get","then","response","catch","error","console","log","JSON","stringify","validateZipCode","zipcode","regex","test","zipcodeInput","zipcode_text","client","length","event","inputType","substring","submitForm","patch","id","message","type","dismissible","pauseOnHover","duration","position","$router","push"],"sources":["/Users/danielkusmider/Library/CloudStorage/OneDrive-Personal/Docs/Projects/ScrapYard/scrap_yard_vue/src/views/dashboard/EditTeam.vue"],"sourcesContent":["<template>\n    <div class=\"page-edit-team\">\n        <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n            <ul>\n                <li><router-link to=\"/dashboard\">Dashboard</router-link></li>\n                <li><router-link to=\"/dashboard/my-account\">Moje konto</router-link></li>\n                <li class=\"is-active\"><router-link to=\"/dashboard/my-account/edit-team\" aria-current=\"true\">Edytuj dane firmy</router-link></li>\n            </ul>\n        </nav>\n\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-12\">\n                <h1 class=\"title\">Edytuj dane firmy</h1>\n            </div>\n\n            <div class=\"column is-6\">\n                <div class=\"field\">\n                    <label>Nazwa</label>\n                    <div class=\"control\">\n                        <input type=\"text\" class=\"input\" v-model=\"team.name\">\n                    </div>\n                </div>\n\n                <div class=\"field\">\n                    <label>Imię i Nazwisko właściciela</label>\n                    <div class=\"control\">\n                        <input type=\"text\" class=\"input\" v-model=\"team.owner_name\">\n                    </div>\n                </div>\n\n                <div class=\"field\">\n                    <label>Nazwa skrócona</label>\n                    <div class=\"control\">\n                        <input type=\"text\" class=\"input\" v-model=\"team.short_name\">\n                    </div>\n                </div>\n\n                <div class=\"field\">\n                    <label>NIP</label>\n                    <div class=\"control\">\n                        <input type=\"text\" class=\"input\" v-model=\"team.org_number\">\n                    </div>\n                </div>\n\n                <div class=\"field\">\n                    <label>REGON</label>\n                    <div class=\"control\">\n                        <input type=\"text\" class=\"input\" v-model=\"team.org_number2\">\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"column is-6\">\n                <div class=\"field\">\n                    <label>Numer telefonu</label>\n                    <div class=\"control\">\n                        <input type=\"number\" class=\"input\" v-model=\"team.phone_number\">\n                    </div>\n                </div>\n\n                <div class=\"field\">\n                    <label>Email</label>\n                    <div class=\"control\">\n                        <input type=\"email\" class=\"input\" v-model=\"team.email\">\n                    </div>\n                </div>\n\n                <div class=\"field\">\n                    <label>Adres</label>\n                    <div class=\"control\">\n                        <input type=\"text\" class=\"input\" v-model=\"team.address1\">\n                    </div>\n                </div>\n\n                <div class=\"field\">\n                    <label>Kod pocztowy</label>\n\n                    <div class=\"control\">\n                        <input type=\"text\" class=\"input\" placeholder=\"00-000\" v-model=\"team.zipcode\" @input=\"zipcodeInput\">\n                    </div>\n\n                    <p class=\"help is-danger\" v-if=\"!validateZipCode(team.zipcode)\">\n                        Kod pocztowy musi być w formacie 00-000.\n                    </p>\n                </div>\n\n                <div class=\"field\">\n                    <label>Miejscowość</label>\n                    <div class=\"control\">\n                        <input type=\"text\" class=\"input\" v-model=\"team.place\">\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"column is-12\">\n                <div class=\"field\">\n                    <div class=\"control\">\n                        <button class=\"button is-success\" @click=\"submitForm\">Zapisz</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { toast } from 'bulma-toast'\n\nexport default {\n    name: 'EditTeam',\n    data() {\n        return {\n            team: {}\n        }\n    },\n    async mounted() {\n        await this.getOrCreateTeam()\n    },\n    methods: {\n        getOrCreateTeam() {\n            axios\n                .get('/api/v1/teams/')\n                .then(response => {\n                    this.team = response.data[0]\n                })\n                .catch(error => {\n                    console.log(JSON.stringify(error))\n                })\n        },\n        validateZipCode(zipcode) {\n            const regex = /^\\d{2}-\\d{3}$/; // Pattern for \"00-000\"\n            return regex.test(zipcode);\n        },\n        zipcodeInput() {\n            let zipcode_text = this.client.zipcode || ''\n\n            // Allow backspace and delete\n            if (zipcode_text.length === 6 && event.inputType === 'deleteContentBackward') {\n                zipcode_text = zipcode_text.substring(0, 6);\n            } else if (zipcode_text.length === 3 && event.inputType === 'deleteContentBackward') {\n                zipcode_text = zipcode_text.substring(0, 2);\n            }\n\n            // Add \"-\" after the first two characters\n            if (zipcode_text.length === 2 && event.inputType !== 'deleteContentBackward') {\n                zipcode_text += '-';\n            }\n\n            this.client.zipcode = zipcode_text\n        },\n        submitForm() {\n            axios\n                .patch(`/api/v1/teams/${this.team.id}/`, this.team)\n                .then(response => {\n                    toast({\n                        message: 'Zmiany zostały zapisane',\n                        type: 'is-success',\n                        dismissible: true,\n                        pauseOnHover: true,\n                        duration: 2000,\n                        position: 'bottom-right',\n                    })\n\n                    this.$router.push('/dashboard/my-account')\n                })\n                .catch(error => {\n                    console.log(JSON.stringify(error))\n                })\n        }\n    }\n}\n</script>"],"mappings":";AA0GA,OAAOA,KAAI,MAAO,OAAM;AACxB,SAASC,KAAI,QAAS,aAAY;AAElC,eAAe;EACXC,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,IAAI,EAAE,CAAC;IACX;EACJ,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACZ,MAAM,IAAI,CAACC,eAAe,CAAC;EAC/B,CAAC;EACDC,OAAO,EAAE;IACLD,eAAeA,CAAA,EAAG;MACdN,KAAI,CACCQ,GAAG,CAAC,gBAAgB,EACpBC,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAACN,IAAG,GAAIM,QAAQ,CAACP,IAAI,CAAC,CAAC;MAC/B,CAAC,EACAQ,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAAC;MACrC,CAAC;IACT,CAAC;IACDK,eAAeA,CAACC,OAAO,EAAE;MACrB,MAAMC,KAAI,GAAI,eAAe,EAAE;MAC/B,OAAOA,KAAK,CAACC,IAAI,CAACF,OAAO,CAAC;IAC9B,CAAC;IACDG,YAAYA,CAAA,EAAG;MACX,IAAIC,YAAW,GAAI,IAAI,CAACC,MAAM,CAACL,OAAM,IAAK,EAAC;;MAE3C;MACA,IAAII,YAAY,CAACE,MAAK,KAAM,KAAKC,KAAK,CAACC,SAAQ,KAAM,uBAAuB,EAAE;QAC1EJ,YAAW,GAAIA,YAAY,CAACK,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;MAC/C,OAAO,IAAIL,YAAY,CAACE,MAAK,KAAM,KAAKC,KAAK,CAACC,SAAQ,KAAM,uBAAuB,EAAE;QACjFJ,YAAW,GAAIA,YAAY,CAACK,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;MAC/C;;MAEA;MACA,IAAIL,YAAY,CAACE,MAAK,KAAM,KAAKC,KAAK,CAACC,SAAQ,KAAM,uBAAuB,EAAE;QAC1EJ,YAAW,IAAK,GAAG;MACvB;MAEA,IAAI,CAACC,MAAM,CAACL,OAAM,GAAII,YAAW;IACrC,CAAC;IACDM,UAAUA,CAAA,EAAG;MACT5B,KAAI,CACC6B,KAAK,CAAE,iBAAgB,IAAI,CAACzB,IAAI,CAAC0B,EAAG,GAAE,EAAE,IAAI,CAAC1B,IAAI,EACjDK,IAAI,CAACC,QAAO,IAAK;QACdT,KAAK,CAAC;UACF8B,OAAO,EAAE,yBAAyB;UAClCC,IAAI,EAAE,YAAY;UAClBC,WAAW,EAAE,IAAI;UACjBC,YAAY,EAAE,IAAI;UAClBC,QAAQ,EAAE,IAAI;UACdC,QAAQ,EAAE;QACd,CAAC;QAED,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,uBAAuB;MAC7C,CAAC,EACA3B,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAAC;MACrC,CAAC;IACT;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}