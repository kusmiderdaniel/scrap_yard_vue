{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText } from \"vue\";\nconst _hoisted_1 = {\n  class: \"columns\"\n};\nconst _hoisted_2 = {\n  class: \"column is-3\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Produkt\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"control\"\n};\nconst _hoisted_5 = [\"value\"];\nconst _hoisted_6 = {\n  class: \"column is-2\"\n};\nconst _hoisted_7 = {\n  class: \"field\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Kod odpadu\", -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"control\"\n};\nconst _hoisted_10 = {\n  class: \"column is-2\"\n};\nconst _hoisted_11 = {\n  class: \"field\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Cena skupu [zł]\", -1 /* HOISTED */);\nconst _hoisted_13 = {\n  class: \"control\"\n};\nconst _hoisted_14 = {\n  class: \"column is-2\"\n};\nconst _hoisted_15 = {\n  class: \"field\"\n};\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Ilość [kg]\", -1 /* HOISTED */);\nconst _hoisted_17 = {\n  class: \"control\"\n};\nconst _hoisted_18 = {\n  class: \"column is-2\"\n};\nconst _hoisted_19 = {\n  class: \"field\"\n};\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Wartość [zł]\", -1 /* HOISTED */);\nconst _hoisted_21 = {\n  class: \"control\"\n};\nconst _hoisted_22 = [\"value\"];\nconst _hoisted_23 = {\n  class: \"column is-1\"\n};\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"label\", null, \" \", -1 /* HOISTED */);\nconst _hoisted_25 = {\n  class: \"control\"\n};\nconst _hoisted_26 = /*#__PURE__*/_createElementVNode(\"strong\", null, \"-\", -1 /* HOISTED */);\nconst _hoisted_27 = [_hoisted_26];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", {\n    id: \"item-select\",\n    class: \"select\",\n    onChange: _cache[1] || (_cache[1] = $event => $options.itemChange($event, $data.item.id))\n  }, [_withDirectives(_createElementVNode(\"select\", {\n    name: \"name\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.item.name = $event)\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.items, item => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: item.id,\n      value: item.id\n    }, _toDisplayString(item.name), 9 /* TEXT, PROPS */, _hoisted_5);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.item.name]]), _createElementVNode(\"p\", null, _toDisplayString($data.item.name.name) + \" \" + _toDisplayString($data.item.id), 1 /* TEXT */)], 32 /* NEED_HYDRATION */)])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    name: \"item_code\",\n    class: \"input has-text-centered\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.item.item_code = $event),\n    disabled: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.item.item_code]])])])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _createElementVNode(\"div\", _hoisted_13, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    name: \"buy_price\",\n    step: \"0.01\",\n    class: \"input has-text-right\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.item.buy_price = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.item.buy_price]])])])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _createElementVNode(\"div\", _hoisted_17, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    name: \"quantity\",\n    step: \"0.01\",\n    class: \"input has-text-right\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.item.quantity = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.item.quantity]])])])]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_hoisted_20, _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"input\", {\n    type: \"number\",\n    step: \"0.01\",\n    class: \"input has-text-right\",\n    value: $options.gross_amount,\n    disabled: \"\"\n  }, null, 8 /* PROPS */, _hoisted_22)])])]), _createElementVNode(\"div\", _hoisted_23, [_hoisted_24, _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"button\", {\n    class: \"button is-danger is-rounded is-outlined\",\n    style: {\n      \"width\": \"2.5em\"\n    },\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.deleteItem && $options.deleteItem(...args))\n  }, [..._hoisted_27])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_hoisted_26","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","id","onChange","_cache","$event","$options","itemChange","$data","item","name","_Fragment","_renderList","items","key","value","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","type","item_code","disabled","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","step","buy_price","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","quantity","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","gross_amount","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","style","onClick","args","deleteItem","_hoisted_27"],"sources":["/Users/danielkusmider/Library/CloudStorage/OneDrive-Personal/Docs/Projects/ScrapYard/scrap_yard_vue/src/components/EditItemForm.vue"],"sourcesContent":["<template>\n    <div class=\"columns\">\n\n        <div class=\"column is-3\">\n            <label>Produkt</label>\n\n            <div class=\"control\">\n                <div id=\"item-select\" class=\"select\" @change=\"itemChange($event, item.id)\">\n                    <select name=\"name\" v-model=\"item.name\">\n                        <option \n                            v-for=\"item in items\"\n                            v-bind:key=\"item.id\"\n                            v-bind:value=\"item.id\"\n                        >\n                            {{ item.name }}\n                        </option>\n                    </select>\n                    <p>{{ item.name.name }} {{ item.id }}</p>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"column is-2\">\n            <div class=\"field\">\n                <label>Kod odpadu</label>\n                <div class=\"control\">\n                    <input type=\"text\" name=\"item_code\" class=\"input has-text-centered\" v-model=\"item.item_code\" disabled>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"column is-2\">\n            <div class=\"field\">\n                <label>Cena skupu [zł]</label>\n                <div class=\"control\">\n                    <input type=\"number\" name=\"buy_price\" step=\"0.01\" class=\"input has-text-right\" v-model=\"item.buy_price\">\n                </div>\n            </div>\n        </div>\n\n        <div class=\"column is-2\">\n            <div class=\"field\">\n                <label>Ilość [kg]</label>\n                <div class=\"control\">\n                    <input type=\"number\" name=\"quantity\" step=\"0.01\" class=\"input has-text-right\" v-model=\"item.quantity\">\n                </div>\n            </div>\n        </div>\n\n        <div class=\"column is-2\">\n            <div class=\"field\">\n                <label>Wartość [zł]</label>\n                <div class=\"control\">\n                    <input type=\"number\" step=\"0.01\" class=\"input has-text-right\" v-bind:value=\"gross_amount\" disabled>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"column is-1\">\n            <label>&nbsp;</label>\n            <div class=\"control\">\n                <button class=\"button is-danger is-rounded is-outlined\" style=\"width: 2.5em\" @click=\"deleteItem\"><strong>-</strong></button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n    name: 'ItemForm',\n    props: {\n        initialItem:{},\n    },\n    data() {\n        return {\n            item: this.initialItem,\n            items: []\n        }\n    },\n    mounted() {\n        this.getItems()\n    },\n    methods: {\n        getItems() {\n            axios\n                .get('/api/v1/items/')\n                .then(response => {\n                    for (let i = 0; i < response.data.length; i++) {\n                        this.items.push(response.data[i])\n                    }\n                    console.log(this.item)\n                })\n                .catch(error => {\n                    console.log(JSON.stringify(error))\n                })\n        },\n        itemChange(e, selectedItemId) {\n            // Find the selected item from the items array\n            // const selectedItemId = this.item.id\n            console.log(selectedItemId)\n            const selectedItem = this.items.find((item) => item.id === selectedItemId)\n\n            console.log(selectedItem)\n            // Update the buy_price field with the selected item's buy_price\n            if (selectedItem) {\n                this.item.buy_price = selectedItem.buy_price\n                this.item.item_code = selectedItem.item_code\n                this.item.source_id = selectedItem.id\n            }\n\n            console.log(this.item)\n        },\n        deleteItem() {\n            // Emit an event to notify the parent component about the deletion\n            this.$emit('deleteItem', this.item.item_num)\n        },\n    },\n    computed: {\n        gross_amount() {\n            const buy_price = this.item.buy_price\n            const quantity = this.item.quantity\n\n            this.item.gross_amount = buy_price * quantity\n\n            this.item.gross_amount = Number(this.item.gross_amount.toFixed(2))\n\n            this.$emit('updatePrice', this.item)\n\n            return this.item.gross_amount.toFixed(2)\n        }\n    }\n}\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}