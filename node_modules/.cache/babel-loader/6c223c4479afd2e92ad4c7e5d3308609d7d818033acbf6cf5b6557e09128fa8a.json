{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'App',\n  data() {\n    return {\n      msg: '',\n      activator: false,\n      dropdown_activator: false\n    };\n  },\n  beforeCreate() {\n    this.$store.commit('initializeStore');\n    const token = this.$store.state.token;\n    if (token) {\n      axios.defaults.headers.common['Authorization'] = 'Token ' + token;\n    } else {\n      axios.defaults.headers.common['Authorization'] = '';\n    }\n  },\n  methods: {\n    makeBurger() {\n      this.activator = !this.activator;\n      return this.activator;\n    },\n    closeBurger() {\n      this.activator = false;\n    },\n    logout() {\n      axios.post(\"/api/v1/token/logout/\").then(response => {\n        axios.defaults.headers.common[\"Authorization\"] = \"\";\n        localStorage.removeItem(\"username\");\n        localStorage.removeItem(\"userid\");\n        localStorage.removeItem(\"token\");\n        this.$store.commit('removeToken');\n        this.$router.push('/');\n      }).catch(error => {\n        if (error.response) {\n          console.log(JSON.stringify(error.response.data));\n        } else if (error.message) {\n          console.log(JSON.stringify(error.message));\n        } else {\n          console.log(JSON.stringify(error));\n        }\n      });\n    }\n  },\n  watch: {\n    // Watch for route changes and close the burger menu\n    '$route': 'closeBurger'\n  }\n};","map":{"version":3,"names":["axios","name","data","msg","activator","dropdown_activator","beforeCreate","$store","commit","token","state","defaults","headers","common","methods","makeBurger","closeBurger","logout","post","then","response","localStorage","removeItem","$router","push","catch","error","console","log","JSON","stringify","message","watch"],"sources":["/Users/danielkusmider/Library/CloudStorage/OneDrive-Personal/Docs/Projects/ScrapYard/scrap_yard_vue/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"wrapper\">\n    <nav class=\"navbar is-dark\" role=\"navigation\" aria-label=\"main-navigation\">\n      <div class=\"navbar-brand\">\n        <a class=\"navbar-item\" href=\"/\">\n        </a>\n        <router-link to=\"/dashboard\" class=\"navbar-item\"><strong>ZłomApp</strong></router-link>\n      \n        <a role=\"button\" @click=\"makeBurger\" class=\"navbar-burger is-right\" aria-label=\"menu\" aria-expanded=\"false\" data-target=\"navMenu\" v-bind:class=\"{ 'is-active': activator }\">\n          <span aria-hidden=\"true\"></span>\n          <span aria-hidden=\"true\"></span>\n          <span aria-hidden=\"true\"></span>\n        </a>\n      </div>\n\n      <div id=\"navMenu\" class=\"navbar-menu is-right\" v-bind:class=\"{ 'is-active': activator }\">\n        <div class=\"navbar-end\">\n          <template v-if=\"$store.state.isAuthenticated\">\n            <router-link to=\"/dashboard\" class=\"navbar-item has-text-right\">Dashboard</router-link>\n            <router-link to=\"/dashboard/clients\" class=\"navbar-item has-text-right\">Kontrahenci</router-link>\n            <router-link to=\"/dashboard/items\" class=\"navbar-item has-text-right\">Produkty</router-link>\n            <router-link to=\"/dashboard/receipts\" class=\"navbar-item has-text-right\">Kwity</router-link>\n            <router-link to=\"/dashboard/receipts/add-receipt\" class=\"navbar-item has-text-weight-bold has-text-success has-text-right\">Nowy kwit</router-link>\n            \n            <hr>\n\n            <div class=\"navbar-item is-hoverable\">\n              <a class=\"navbar-link has-text-right\">\n                Moje konto\n              </a>\n\n              <div class=\"navbar-dropdown is-right has-text-right\">\n                <a class=\"navbar-item\">\n                  <router-link to=\"/dashboard/my-account/edit-team\" class=\"has-text-black\">Edytuj dane firmy</router-link>\n                </a>\n                <a class=\"navbar-item has-text-danger has-text-weight-bold\" @click=\"logout()\">\n                  Wyloguj\n                </a>\n              </div>\n            </div>\n          </template>\n\n          <template v-else>\n            <div class=\"navbar-item\">\n              <div class=\"buttons\">\n                <router-link to=\"/sign-up\" class=\"button is-success\"><strong>Rejestracja</strong></router-link>\n                <router-link to=\"/log-in\" class=\"button is-light\">Logowanie</router-link>\n              </div>\n            </div>\n          </template>\n        </div>\n      </div>\n    </nav>\n\n    <section class=\"section\">\n      <router-view/>\n    </section>\n\n    <footer class=\"footer has-text-centered mt-auto is-flex-align-items-flex-end\">\n      <p>Copyright (c) 2024</p>\n      <p>Daniel Kuśmider</p>\n      <p>kusmiderdaniel@gmail.com</p>\n    </footer>\n    <div v-if=\"activator\" @click=\"closeBurger\" class=\"navbar-overlay\"></div>\n  </div>\n</template>\n\n<script>\n  import axios from 'axios'\n\n  export default {\n    name: 'App',\n    data () {\n      return {\n        msg: '',\n        activator: false,\n        dropdown_activator: false,\n      }\n    },\n    beforeCreate() {\n      this.$store.commit('initializeStore')\n\n      const token = this.$store.state.token\n\n      if (token) {\n        axios.defaults.headers.common['Authorization'] = 'Token ' + token\n      } else {\n        axios.defaults.headers.common['Authorization'] = ''\n      }\n    },\n    methods: {\n      makeBurger () {\n        this.activator = !this.activator\n        return this.activator\n      },\n      closeBurger() {\n        this.activator = false;\n      },\n      logout() {\n        axios\n            .post(\"/api/v1/token/logout/\")\n            .then(response => {\n                axios.defaults.headers.common[\"Authorization\"] = \"\"\n\n                localStorage.removeItem(\"username\")\n                localStorage.removeItem(\"userid\")\n                localStorage.removeItem(\"token\")\n\n                this.$store.commit('removeToken')\n\n                this.$router.push('/')\n            })\n            .catch(error => {\n                if (error.response) {\n                    console.log(JSON.stringify(error.response.data))\n                } else if (error.message) {\n                    console.log(JSON.stringify(error.message))\n                } else {\n                    console.log(JSON.stringify(error))\n                }\n            })\n        }\n    },\n    watch: {\n      // Watch for route changes and close the burger menu\n      '$route': 'closeBurger',\n  },\n  }\n</script>\n\n<style lang=\"scss\">\n@import '../node_modules/bulma';\n\n.navbar-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.3);\n  z-index: 10;\n}\n</style>\n"],"mappings":";AAoEE,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,GAAG,EAAE,EAAE;MACPC,SAAS,EAAE,KAAK;MAChBC,kBAAkB,EAAE;IACtB;EACF,CAAC;EACDC,YAAYA,CAAA,EAAG;IACb,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC,iBAAiB;IAEpC,MAAMC,KAAI,GAAI,IAAI,CAACF,MAAM,CAACG,KAAK,CAACD,KAAI;IAEpC,IAAIA,KAAK,EAAE;MACTT,KAAK,CAACW,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,IAAI,QAAO,GAAIJ,KAAI;IAClE,OAAO;MACLT,KAAK,CAACW,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,IAAI,EAAC;IACpD;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,UAASA,CAAA,EAAK;MACZ,IAAI,CAACX,SAAQ,GAAI,CAAC,IAAI,CAACA,SAAQ;MAC/B,OAAO,IAAI,CAACA,SAAQ;IACtB,CAAC;IACDY,WAAWA,CAAA,EAAG;MACZ,IAAI,CAACZ,SAAQ,GAAI,KAAK;IACxB,CAAC;IACDa,MAAMA,CAAA,EAAG;MACPjB,KAAI,CACCkB,IAAI,CAAC,uBAAuB,EAC5BC,IAAI,CAACC,QAAO,IAAK;QACdpB,KAAK,CAACW,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,IAAI,EAAC;QAElDQ,YAAY,CAACC,UAAU,CAAC,UAAU;QAClCD,YAAY,CAACC,UAAU,CAAC,QAAQ;QAChCD,YAAY,CAACC,UAAU,CAAC,OAAO;QAE/B,IAAI,CAACf,MAAM,CAACC,MAAM,CAAC,aAAa;QAEhC,IAAI,CAACe,OAAO,CAACC,IAAI,CAAC,GAAG;MACzB,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACZ,IAAIA,KAAK,CAACN,QAAQ,EAAE;UAChBO,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAACN,QAAQ,CAAClB,IAAI,CAAC;QACnD,OAAO,IAAIwB,KAAK,CAACK,OAAO,EAAE;UACtBJ,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAACK,OAAO,CAAC;QAC7C,OAAO;UACHJ,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAAC;QACrC;MACJ,CAAC;IACL;EACJ,CAAC;EACDM,KAAK,EAAE;IACL;IACA,QAAQ,EAAE;EACd;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}