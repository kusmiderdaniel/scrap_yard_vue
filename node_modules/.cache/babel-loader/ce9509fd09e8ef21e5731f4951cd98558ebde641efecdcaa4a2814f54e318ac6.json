{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"page-my-account\"\n};\nconst _hoisted_2 = {\n  class: \"breadcrumb\",\n  \"aria-label\": \"breadcrumbs\"\n};\nconst _hoisted_3 = {\n  class: \"is-active\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"title\"\n}, \"Moje konto\", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"strong\", null, \"Firma: \", -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"strong\", null, \"Nazwa użytkownika: \", -1 /* HOISTED */);\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"buttons\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"nav\", _hoisted_2, [_createElementVNode(\"ul\", null, [_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/dashboard\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Dashboard\")]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"li\", _hoisted_3, [_createVNode(_component_router_link, {\n    to: \"/dashboard/my-account\",\n    \"aria-current\": \"true\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Moje konto\")]),\n    _: 1 /* STABLE */\n  })])])]), _hoisted_4, _hoisted_5, _createTextVNode(\"PLACEHOLDER\"), _hoisted_6, _hoisted_7, _createTextVNode(_toDisplayString(_ctx.$store.state.user.username) + \" \", 1 /* TEXT */), _hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_router_link, {\n    to: \"/dashboard/my-account/edit-team\",\n    class: \"button is-light\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Edytuj dane firmy\")]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $options.logout()),\n    class: \"button is-danger\"\n  }, \"Wyloguj\")])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","_ctx","$store","state","user","username","_hoisted_8","_hoisted_9","onClick","_cache","$event","$options","logout"],"sources":["/Users/danielkusmider/Library/CloudStorage/OneDrive-Personal/Docs/Projects/ScrapYard/scrap_yard_vue/src/views/dashboard/MyAccount.vue"],"sourcesContent":["<template>\n    <div class=\"page-my-account\">\n        <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n            <ul>\n                <li><router-link to=\"/dashboard\">Dashboard</router-link></li>\n                <li class=\"is-active\"><router-link to=\"/dashboard/my-account\" aria-current=\"true\">Moje konto</router-link></li>\n            </ul>\n        </nav>\n\n        <h1 class=\"title\">Moje konto</h1>\n\n        <strong>Firma: </strong>PLACEHOLDER<br>\n        <strong>Nazwa użytkownika: </strong>{{ $store.state.user.username }}\n\n        <hr>\n\n        <div class=\"buttons\">\n            <router-link to=\"/dashboard/my-account/edit-team\" class=\"button is-light\">Edytuj dane firmy</router-link>\n            <button @click=\"logout()\" class=\"button is-danger\">Wyloguj</button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n    name: 'MyAccount',\n    data() {\n        return {\n            team: {}\n        }\n    },\n    async mounted() {\n        await this.getOrCreateTeam()\n    },\n    methods: {\n        getOrCreateTeam() {\n            axios\n                .get('/api/v1/teams/')\n                .then(response => {\n                    this.team = response.data[0]\n                })\n                .catch(error => {\n                    console.log(JSON.stringify(error))\n                })\n        },\n        logout() {\n            axios\n                .post(\"/api/v1/token/logout/\")\n                .then(response => {\n                    axios.defaults.headers.common[\"Authorization\"] = \"\"\n\n                    localStorage.removeItem(\"username\")\n                    localStorage.removeItem(\"userid\")\n                    localStorage.removeItem(\"token\")\n\n                    this.$store.commit('removeToken')\n\n                    this.$router.push('/')\n                })\n                .catch(error => {\n                    if (error.response) {\n                        console.log(JSON.stringify(error.response.data))\n                    } else if (error.message) {\n                        console.log(JSON.stringify(error.message))\n                    } else {\n                        console.log(JSON.stringify(error))\n                    }\n                })\n        }\n    }\n}\n</script>"],"mappings":";;EACSA,KAAK,EAAC;AAAiB;;EACnBA,KAAK,EAAC,YAAY;EAAC,YAAU,EAAC;;;EAGvBA,KAAK,EAAC;AAAW;gCAI7BC,mBAAA,CAAiC;EAA7BD,KAAK,EAAC;AAAO,GAAC,YAAU;gCAE5BC,mBAAA,CAAwB,gBAAhB,SAAO;gCAAoBA,mBAAA,CAAI;gCACvCA,mBAAA,CAAoC,gBAA5B,qBAAmB;gCAE3BA,mBAAA,CAAI;;EAECD,KAAK,EAAC;AAAS;;;uBAfxBE,mBAAA,CAmBM,OAnBNC,UAmBM,GAlBFF,mBAAA,CAKM,OALNG,UAKM,GAJFH,mBAAA,CAGK,aAFDA,mBAAA,CAA6D,aAAzDI,YAAA,CAAoDC,sBAAA;IAAvCC,EAAE,EAAC;EAAY;IAJhDC,OAAA,EAAAC,QAAA,CAIiD,MAAS,CAJ1DC,gBAAA,CAIiD,WAAS,E;IAJ1DC,CAAA;QAKgBV,mBAAA,CAA+G,MAA/GW,UAA+G,GAAzFP,YAAA,CAAoFC,sBAAA;IAAvEC,EAAE,EAAC,uBAAuB;IAAC,cAAY,EAAC;;IAL3FC,OAAA,EAAAC,QAAA,CAKkG,MAAU,CAL5GC,gBAAA,CAKkG,YAAU,E;IAL5GC,CAAA;YASQE,UAAiC,EAEjCC,UAAwB,EAXhCJ,gBAAA,CAWgC,aAAW,GAAAK,UAAI,EACvCC,UAAoC,EAZ5CN,gBAAA,CAAAO,gBAAA,CAY+CC,IAAA,CAAAC,MAAM,CAACC,KAAK,CAACC,IAAI,CAACC,QAAQ,IAAG,GAEpE,iBAAAC,UAAI,EAEJtB,mBAAA,CAGM,OAHNuB,UAGM,GAFFnB,YAAA,CAAyGC,sBAAA;IAA5FC,EAAE,EAAC,iCAAiC;IAACP,KAAK,EAAC;;IAjBpEQ,OAAA,EAAAC,QAAA,CAiBsF,MAAiB,CAjBvGC,gBAAA,CAiBsF,mBAAiB,E;IAjBvGC,CAAA;MAkBYV,mBAAA,CAAmE;IAA1DwB,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,MAAM;IAAI7B,KAAK,EAAC;KAAmB,SAAO,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}