{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"page-signup\"\n};\nconst _hoisted_2 = {\n  class: \"columns\"\n};\nconst _hoisted_3 = {\n  class: \"column is-4 is-offset-4\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"title\"\n}, \"Rejestracja\", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"field\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", null, \"E-mail\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"control\"\n};\nconst _hoisted_8 = {\n  class: \"field\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Hasło\", -1 /* HOISTED */);\nconst _hoisted_10 = {\n  class: \"control\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"notification is-danger\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"field\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"control\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"button is-success\"\n}, \"Rejestracja\")])], -1 /* HOISTED */);\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    name: \"username\",\n    class: \"input\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.username = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.username]])])]), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    class: \"input\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])])]), $data.errors.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.errors, error => {\n    return _openBlock(), _createElementBlock(\"p\", {\n      key: error\n    }, _toDisplayString(error), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), _hoisted_12], 32 /* NEED_HYDRATION */), _hoisted_13, _createVNode(_component_router_link, {\n    to: \"/log-in\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Kliknij tutaj\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\" aby się zalogować \")])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","key","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","args","$options","submitForm","_hoisted_5","_hoisted_6","_hoisted_7","type","name","$event","$data","username","_hoisted_8","_hoisted_9","_hoisted_10","password","errors","length","_hoisted_11","_Fragment","_renderList","error","_toDisplayString","_createCommentVNode","_hoisted_12","_hoisted_13","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_"],"sources":["/Users/danielkusmider/Library/CloudStorage/OneDrive-Personal/Docs/Projects/ScrapYard/scrap_yard_vue/src/views/SignUp.vue"],"sourcesContent":["<template>\n    <div class=\"page-signup\">\n        <div class=\"columns\">\n            <div class=\"column is-4 is-offset-4\">\n                <h1 class=\"title\">Rejestracja</h1>\n\n                <form @submit.prevent=\"submitForm\">\n                    <div class=\"field\">\n                        <label>E-mail</label>\n                        <div class=\"control\">\n                            <input type=\"email\" name=\"username\" class=\"input\" v-model=\"username\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>Hasło</label>\n                        <div class=\"control\">\n                            <input type=\"password\" name=\"password\" class=\"input\" v-model=\"password\">\n                        </div>\n                    </div>\n\n                    <div class=\"notification is-danger\" v-if=\"errors.length\">\n                        <p\n                            v-for=\"error in errors\"\n                            v-bind:key=\"error\"\n                        >\n                            {{ error }}\n                        </p>\n                    </div>\n\n                    <div class=\"field\">\n                        <div class=\"control\">\n                            <button class=\"button is-success\">Rejestracja</button>\n                        </div>\n                    </div>\n                </form>\n\n                <hr>\n\n                <router-link to=\"/log-in\">Kliknij tutaj</router-link> aby się zalogować\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n    name: 'SignUp',\n    data () {\n        return {\n            username: '',\n            password: '',\n            errors: []\n        }\n    },\n    methods: {\n        submitForm(e) {\n            const formData = {\n                username: this.username,\n                password: this.password\n            }\n\n            axios\n                .post(\"/api/v1/users/\", formData)\n                .then(response => {\n                    console.log(response)\n\n                    this.$router.push('/log-in')\n                })\n                .catch(error => {\n                    if (error.response) {\n                        for (const property in error.response.data) {\n                            this.errors.push(`${property}: ${error.response.data[property]}`)\n                        }\n\n                        console.log(JSON.stringify(error.response.data))\n                    } else if (error.message) {\n                        console.log(JSON.stringify(error.message))\n                    } else {\n                        console.log(JSON.stringify(error))\n                    }\n                })\n        }\n    }\n}\n</script>"],"mappings":";;EACSA,KAAK,EAAC;AAAa;;EACfA,KAAK,EAAC;AAAS;;EACXA,KAAK,EAAC;AAAyB;gCAChCC,mBAAA,CAAkC;EAA9BD,KAAK,EAAC;AAAO,GAAC,aAAW;;EAGpBA,KAAK,EAAC;AAAO;gCACdC,mBAAA,CAAqB,eAAd,QAAM;;EACRD,KAAK,EAAC;AAAS;;EAKnBA,KAAK,EAAC;AAAO;gCACdC,mBAAA,CAAoB,eAAb,OAAK;;EACPD,KAAK,EAAC;AAAS;;EAhB5CE,GAAA;EAqByBF,KAAK,EAAC;;iCASXC,mBAAA,CAIM;EAJDD,KAAK,EAAC;AAAO,I,aACdC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAS,I,aAChBC,mBAAA,CAAsD;EAA9CD,KAAK,EAAC;AAAmB,GAAC,aAAW,E;iCAKzDC,mBAAA,CAAI;;;uBApChBE,mBAAA,CAyCM,OAzCNC,UAyCM,GAxCFH,mBAAA,CAuCM,OAvCNI,UAuCM,GAtCFJ,mBAAA,CAqCM,OArCNK,UAqCM,GApCFC,UAAkC,EAElCN,mBAAA,CA6BO;IA7BAO,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAN7BC,cAAA,KAAAC,IAAA,KAMuCC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;MAC7BV,mBAAA,CAKM,OALNa,UAKM,GAJFC,UAAqB,EACrBd,mBAAA,CAEM,OAFNe,UAEM,G,gBADFf,mBAAA,CAAqE;IAA9DgB,IAAI,EAAC,OAAO;IAACC,IAAI,EAAC,UAAU;IAAClB,KAAK,EAAC,OAAO;IAV7E,uBAAAS,MAAA,QAAAA,MAAA,MAAAU,MAAA,IAUuFC,KAAA,CAAAC,QAAQ,GAAAF,MAAA;iDAARC,KAAA,CAAAC,QAAQ,E,OAI3EpB,mBAAA,CAKM,OALNqB,UAKM,GAJFC,UAAoB,EACpBtB,mBAAA,CAEM,OAFNuB,WAEM,G,gBADFvB,mBAAA,CAAwE;IAAjEgB,IAAI,EAAC,UAAU;IAACC,IAAI,EAAC,UAAU;IAAClB,KAAK,EAAC,OAAO;IAjBhF,uBAAAS,MAAA,QAAAA,MAAA,MAAAU,MAAA,IAiB0FC,KAAA,CAAAK,QAAQ,GAAAN,MAAA;iDAARC,KAAA,CAAAK,QAAQ,E,OAIpCL,KAAA,CAAAM,MAAM,CAACC,MAAM,I,cAAvDxB,mBAAA,CAOM,OAPNyB,WAOM,I,kBANFzB,mBAAA,CAKI0B,SAAA,QA3B5BC,WAAA,CAuB4CV,KAAA,CAAAM,MAAM,EAAfK,KAAK;yBADhB5B,mBAAA,CAKI;MAHOD,GAAG,EAAE6B;IAAK,GAAAC,gBAAA,CAEdD,KAAK;sCA1BpCE,mBAAA,gBA8BoBC,WAIM,C,4BAGVC,WAAI,EAEJC,YAAA,CAAqDC,sBAAA;IAAxCC,EAAE,EAAC;EAAS;IAvCzCC,OAAA,EAAAC,QAAA,CAuC0C,MAAa,CAvCvDC,gBAAA,CAuC0C,eAAa,E;IAvCvDC,CAAA;MAAAD,gBAAA,CAuCqE,qBACzD,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}