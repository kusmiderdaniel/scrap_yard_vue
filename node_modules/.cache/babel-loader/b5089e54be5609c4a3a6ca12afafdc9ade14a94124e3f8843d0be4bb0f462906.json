{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { toast } from 'bulma-toast';\nexport default {\n  name: 'EditItem',\n  data() {\n    return {\n      item: {\n        category: '',\n        category_name: '',\n        name: '',\n        item_code: '',\n        buy_price: 0,\n        sell_price: 0\n      },\n      categories: []\n    };\n  },\n  mounted() {\n    this.getCategories();\n    this.getItem();\n  },\n  methods: {\n    getItem() {\n      const itemID = this.$route.params.id;\n      axios.get(`/api/v1/items/${itemID}`).then(response => {\n        this.item.category = response.data.category.id;\n        this.item.category_name = response.data.category.name;\n        this.item.name = response.data.name;\n        this.item.item_code = response.data.item_code;\n        this.item.buy_price = response.data.buy_price;\n        this.item.sell_price = response.data.sell_price;\n      }).catch(error => {\n        console.log(JSON.stringify(error));\n      });\n    },\n    getCategories() {\n      axios.get('/api/v1/categories/').then(response => {\n        for (let i = 0; i < response.data.length; i++) {\n          this.categories.push(response.data[i]);\n        }\n      }).catch(error => {\n        console.log(JSON.stringify(error));\n      });\n    },\n    submitForm() {\n      const itemID = this.$route.params.id;\n      this.item.category = this.item.category.id;\n      axios.patch(`/api/v1/items/${itemID}/`, this.item).then(response => {\n        toast({\n          message: 'Zmiany zostały zapisane',\n          type: 'is-success',\n          dismissible: true,\n          pauseOnHover: true,\n          duration: 2000,\n          position: 'bottom-right'\n        });\n        this.$router.push('/dashboard/items');\n      }).catch(error => {\n        console.log(JSON.stringify(error));\n        toast({\n          message: 'Wystąpił błąd. Proszę spróbować ponownie',\n          type: 'is-danger',\n          dismissible: true,\n          pauseOnHover: true,\n          duration: 2000,\n          position: 'bottom-right'\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","toast","name","data","item","category","category_name","item_code","buy_price","sell_price","categories","mounted","getCategories","getItem","methods","itemID","$route","params","id","get","then","response","catch","error","console","log","JSON","stringify","i","length","push","submitForm","patch","message","type","dismissible","pauseOnHover","duration","position","$router"],"sources":["/Users/danielkusmider/Library/CloudStorage/OneDrive-Personal/Docs/Projects/ScrapYard/scrap_yard_vue/src/views/dashboard/EditItem.vue"],"sourcesContent":["<template>\n    <div class=\"page-add-category\">\n        <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n            <ul>\n                <li><router-link to=\"/dashboard\">Dashboard</router-link></li>\n                <li><router-link to=\"/dashboard/items\">Produkty</router-link></li>\n                <!-- <li><router-link :to=\"{ name: 'Item', params: { id: item.id }}\">{{ item.name }}</router-link></li> -->\n                <li class=\"is-active\"><router-link to=\"/dashboard/items/add-item\" aria-current=\"true\">Edytuj</router-link></li>\n            </ul>\n        </nav>\n\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-12\">\n                <h1 class=\"title\">Edytuj - {{ item.name }}</h1>\n            </div>\n\n            <div class=\"column is-6\">\n                <div class=\"field\">\n                    <label>Kategoria</label>\n                    \n                    <div class=\"select\">\n                        <select name=\"category\" v-model=\"item.category_name\">\n                            <option value=\"\">{{ item.category.name }}</option>\n                            <option \n                                v-for=\"category in categories\"\n                                v-bind:key=\"category.id\"\n                                v-bind:value=\"category\"\n                            >\n                                {{ category.name }}\n                            </option>\n                        </select>\n                    </div>\n                </div>\n\n                <div class=\"field\">\n                    <label>Nazwa</label>\n                    \n                    <div class=\"control\">\n                        <input type=\"text\" name=\"name\" class=\"input\" v-model=\"item.name\">\n                    </div>\n                </div>\n\n                <div class=\"field\">\n                    <label>Kod odpadu</label>\n                    \n                    <div class=\"control\">\n                        <input type=\"text\" name=\"name\" class=\"input\" v-model=\"item.item_code\">\n                    </div>\n                </div>\n\n                <div class=\"field\">\n                    <label>Cena skupu</label>\n                    \n                    <div class=\"control\">\n                        <input type=\"text\" name=\"name\" class=\"input\" v-model=\"item.buy_price\">\n                    </div>\n                </div>\n\n                <div class=\"field\">\n                    <label>Cena sprzedaży</label>\n                    \n                    <div class=\"control\">\n                        <input type=\"text\" name=\"name\" class=\"input\" v-model=\"item.sell_price\">\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"column is-12\">\n                <div class=\"field\">\n                    <div class=\"control\">\n                        <button class=\"button is-success\" @click=\"submitForm\">Zapisz</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { toast } from 'bulma-toast'\n\nexport default {\n    name: 'EditItem',\n    data() {\n        return {\n            item: {\n                category: '',\n                category_name: '',\n                name: '',\n                item_code: '',\n                buy_price: 0,\n                sell_price: 0\n            },\n            categories: []\n        }\n    },\n    mounted() {\n        this.getCategories()\n        this.getItem()\n    },\n    methods: {\n        getItem() {\n            const itemID = this.$route.params.id\n\n            axios\n                .get(`/api/v1/items/${itemID}`)\n                .then(response => {\n                    this.item.category = response.data.category.id\n                    this.item.category_name = response.data.category.name\n                    this.item.name = response.data.name\n                    this.item.item_code = response.data.item_code\n                    this.item.buy_price = response.data.buy_price\n                    this.item.sell_price = response.data.sell_price\n                })\n                .catch(error => {\n                    console.log(JSON.stringify(error))\n                })\n        },\n        getCategories() {\n            axios\n                .get('/api/v1/categories/')\n                .then(response => {\n                    for (let i = 0; i < response.data.length; i++) {\n                        this.categories.push(response.data[i])\n                    }\n                })\n                .catch(error => {\n                    console.log(JSON.stringify(error))\n                })\n        },\n        submitForm() {\n            const itemID = this.$route.params.id;\n\n            this.item.category = this.item.category.id\n\n            axios\n                .patch(`/api/v1/items/${itemID}/`, this.item)\n                .then(response => {\n                    toast({\n                        message: 'Zmiany zostały zapisane',\n                        type: 'is-success',\n                        dismissible: true,\n                        pauseOnHover: true,\n                        duration: 2000,\n                        position: 'bottom-right',\n                    })\n\n                    this.$router.push('/dashboard/items')\n                })\n                .catch(error => {\n                    console.log(JSON.stringify(error))\n                    toast({\n                        message: 'Wystąpił błąd. Proszę spróbować ponownie',\n                        type: 'is-danger',\n                        dismissible: true,\n                        pauseOnHover: true,\n                        duration: 2000,\n                        position: 'bottom-right',\n                    })\n                })\n        }               \n    }\n}\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}