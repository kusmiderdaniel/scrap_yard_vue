{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'MyAccount',\n  data() {\n    return {\n      categories: [],\n      items: []\n    };\n  },\n  mounted() {\n    this.getCategories();\n    this.getItems();\n  },\n  methods: {\n    getCategories() {\n      axios.get('/api/v1/categories/').then(response => {\n        for (let i = 0; i < response.data.length; i++) {\n          this.categories.push(response.data[i]);\n        }\n      }).catch(error => {\n        console.log(JSON.stringify(error));\n      });\n    },\n    getItems() {\n      axios.get('/api/v1/items/').then(response => {\n        for (let i = 0; i < response.data.length; i++) {\n          this.items.push(response.data[i]);\n        }\n      }).catch(error => {\n        console.log(JSON.stringify(error));\n      });\n    },\n    submitForm() {\n      // Prepare data for updating buy_price and sell_price\n      const updatedItems = this.items.filter(item => item.buy_price !== undefined || item.sell_price !== undefined).map(item => ({\n        id: item.id,\n        buy_price: item.buy_price,\n        sell_price: item.sell_price\n      }));\n\n      // Update backend using Axios\n      axios.put('/api/v1/update-items/', {\n        items: updatedItems\n      }) // Adjust the API endpoint accordingly\n      .then(response => {\n        console.log('Items updated successfully', response.data);\n      }).catch(error => {\n        console.error('Error updating items', error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","categories","items","mounted","getCategories","getItems","methods","get","then","response","i","length","push","catch","error","console","log","JSON","stringify","submitForm","updatedItems","filter","item","buy_price","undefined","sell_price","map","id","put"],"sources":["/Users/danielkusmider/Library/CloudStorage/OneDrive-Personal/Docs/Projects/ScrapYard/scrap_yard_vue/src/views/dashboard/Items.vue"],"sourcesContent":["<template>\n    <div class=\"page-items\">\n        <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n            <ul>\n                <li><router-link to=\"/dashboard\">Dashboard</router-link></li>\n                <li class=\"is-active\"><router-link to=\"/dashboard/my-account\" aria-current=\"true\">Produkty</router-link></li>\n            </ul>\n        </nav>\n\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-12\">\n                <h1 class=\"title\">Produkty</h1>\n            </div>\n        </div>\n\n        <div \n            class=\"column is-12 box\"\n            v-for=\"category in categories\"\n            v-bind:key=\"category.id\"\n        >\n            <h3 class=\"title is-4\">{{ category.name }}</h3>\n\n            <table class=\"table is-hoverable\">\n                <thead>\n                    <tr>\n                        <th>Produkt</th>\n                        <th>Cena skupu</th>\n                        <th>Cena sprzeda≈ºy</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    <tr\n                        v-for=\"item in items\"\n                        v-bind:key=\"item.id\"\n                    >\n                        <td v-if=\"item.category === category.id\">{{ item.name }}</td>\n                        <td v-if=\"item.category === category.id\"><input type=\"text\" class=\"input is-small\" v-model=\"item.buy_price\"></td>\n                        <td v-if=\"item.category === category.id\"><input type=\"text\" class=\"input is-small\" v-model=\"item.sell_price\"></td>\n                    </tr>\n                </tbody>\n            </table>\n\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n    name: 'MyAccount',\n    data() {\n        return {\n            categories: [],\n            items: []\n        }\n    },\n    mounted() {\n        this.getCategories()\n        this.getItems()\n    },\n    methods: {\n        getCategories() {\n            axios\n                .get('/api/v1/categories/')\n                .then(response => {\n                    for (let i = 0; i < response.data.length; i++) {\n                        this.categories.push(response.data[i])\n                    }\n                })\n                .catch(error => {\n                    console.log(JSON.stringify(error))\n                })\n        },\n        getItems() {\n            axios\n                .get('/api/v1/items/')\n                .then(response => {\n                    for (let i = 0; i < response.data.length; i++) {\n                        this.items.push(response.data[i])\n                    }\n                })\n                .catch(error => {\n                    console.log(JSON.stringify(error))\n                })\n        },\n        submitForm() {\n            // Prepare data for updating buy_price and sell_price\n            const updatedItems = this.items\n                .filter(item => item.buy_price !== undefined || item.sell_price !== undefined)\n                .map(item => ({\n                id: item.id,\n                buy_price: item.buy_price,\n                sell_price: item.sell_price\n                }));\n\n            // Update backend using Axios\n            axios\n                .put('/api/v1/update-items/', { items: updatedItems }) // Adjust the API endpoint accordingly\n                .then(response => {\n                console.log('Items updated successfully', response.data);\n                })\n                .catch(error => {\n                console.error('Error updating items', error);\n                });\n            }               \n    }\n}\n</script>"],"mappings":";AAgDA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACXC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,UAAU,EAAE,EAAE;MACdC,KAAK,EAAE;IACX;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,aAAa,CAAC;IACnB,IAAI,CAACC,QAAQ,CAAC;EAClB,CAAC;EACDC,OAAO,EAAE;IACLF,aAAaA,CAAA,EAAG;MACZN,KAAI,CACCS,GAAG,CAAC,qBAAqB,EACzBC,IAAI,CAACC,QAAO,IAAK;QACd,KAAK,IAAIC,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAID,QAAQ,CAACT,IAAI,CAACW,MAAM,EAAED,CAAC,EAAE,EAAE;UAC3C,IAAI,CAACT,UAAU,CAACW,IAAI,CAACH,QAAQ,CAACT,IAAI,CAACU,CAAC,CAAC;QACzC;MACJ,CAAC,EACAG,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAAC;MACrC,CAAC;IACT,CAAC;IACDT,QAAQA,CAAA,EAAG;MACPP,KAAI,CACCS,GAAG,CAAC,gBAAgB,EACpBC,IAAI,CAACC,QAAO,IAAK;QACd,KAAK,IAAIC,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAID,QAAQ,CAACT,IAAI,CAACW,MAAM,EAAED,CAAC,EAAE,EAAE;UAC3C,IAAI,CAACR,KAAK,CAACU,IAAI,CAACH,QAAQ,CAACT,IAAI,CAACU,CAAC,CAAC;QACpC;MACJ,CAAC,EACAG,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAAC;MACrC,CAAC;IACT,CAAC;IACDK,UAAUA,CAAA,EAAG;MACT;MACA,MAAMC,YAAW,GAAI,IAAI,CAAClB,KAAI,CACzBmB,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACC,SAAQ,KAAMC,SAAQ,IAAKF,IAAI,CAACG,UAAS,KAAMD,SAAS,EAC5EE,GAAG,CAACJ,IAAG,KAAM;QACdK,EAAE,EAAEL,IAAI,CAACK,EAAE;QACXJ,SAAS,EAAED,IAAI,CAACC,SAAS;QACzBE,UAAU,EAAEH,IAAI,CAACG;MACjB,CAAC,CAAC,CAAC;;MAEP;MACA3B,KAAI,CACC8B,GAAG,CAAC,uBAAuB,EAAE;QAAE1B,KAAK,EAAEkB;MAAa,CAAC,EAAE;MAAA,CACtDZ,IAAI,CAACC,QAAO,IAAK;QAClBM,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEP,QAAQ,CAACT,IAAI,CAAC;MACxD,CAAC,EACAa,KAAK,CAACC,KAAI,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C,CAAC,CAAC;IACN;EACR;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}