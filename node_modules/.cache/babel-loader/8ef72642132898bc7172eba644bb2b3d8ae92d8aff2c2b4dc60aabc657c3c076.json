{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'MyAccount',\n  data() {\n    return {\n      team: {}\n    };\n  },\n  async mounted() {\n    await this.getOrCreateTeam();\n  },\n  methods: {\n    getOrCreateTeam() {\n      axios.get('/api/v1/teams/').then(response => {\n        this.team = response.data[0];\n      }).catch(error => {\n        console.log(JSON.stringify(error));\n      });\n    },\n    logout() {\n      axios.post(\"/api/v1/token/logout/\").then(response => {\n        axios.defaults.headers.common[\"Authorization\"] = \"\";\n        localStorage.removeItem(\"username\");\n        localStorage.removeItem(\"userid\");\n        localStorage.removeItem(\"token\");\n        this.$store.commit('removeToken');\n        this.$router.push('/');\n      }).catch(error => {\n        if (error.response) {\n          console.log(JSON.stringify(error.response.data));\n        } else if (error.message) {\n          console.log(JSON.stringify(error.message));\n        } else {\n          console.log(JSON.stringify(error));\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","team","mounted","getOrCreateTeam","methods","get","then","response","catch","error","console","log","JSON","stringify","logout","post","defaults","headers","common","localStorage","removeItem","$store","commit","$router","push","message"],"sources":["/Users/danielkusmider/Library/CloudStorage/OneDrive-Personal/Docs/Projects/ScrapYard/scrap_yard_vue/src/views/dashboard/MyAccount.vue"],"sourcesContent":["<template>\n    <div class=\"page-my-account\">\n        <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n            <ul>\n                <li><router-link to=\"/dashboard\">Dashboard</router-link></li>\n                <li class=\"is-active\"><router-link to=\"/dashboard/my-account\" aria-current=\"true\">Moje konto</router-link></li>\n            </ul>\n        </nav>\n\n        <h1 class=\"title\">Moje konto</h1>\n\n        <strong>Firma: </strong>PLACEHOLDER<br>\n        <strong>Nazwa u≈ºytkownika: </strong>{{ $store.state.user.username }}\n\n        <hr>\n\n        <div class=\"buttons\">\n            <router-link to=\"/dashboard/my-account/edit-team\" class=\"button is-light\">Edytuj dane firmy</router-link>\n            <button @click=\"logout()\" class=\"button is-danger\">Wyloguj</button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n    name: 'MyAccount',\n    data() {\n        return {\n            team: {}\n        }\n    },\n    async mounted() {\n        await this.getOrCreateTeam()\n    },\n    methods: {\n        getOrCreateTeam() {\n            axios\n                .get('/api/v1/teams/')\n                .then(response => {\n                    this.team = response.data[0]\n                })\n                .catch(error => {\n                    console.log(JSON.stringify(error))\n                })\n        },\n        logout() {\n            axios\n                .post(\"/api/v1/token/logout/\")\n                .then(response => {\n                    axios.defaults.headers.common[\"Authorization\"] = \"\"\n\n                    localStorage.removeItem(\"username\")\n                    localStorage.removeItem(\"userid\")\n                    localStorage.removeItem(\"token\")\n\n                    this.$store.commit('removeToken')\n\n                    this.$router.push('/')\n                })\n                .catch(error => {\n                    if (error.response) {\n                        console.log(JSON.stringify(error.response.data))\n                    } else if (error.message) {\n                        console.log(JSON.stringify(error.message))\n                    } else {\n                        console.log(JSON.stringify(error))\n                    }\n                })\n        }\n    }\n}\n</script>"],"mappings":";AAwBA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACXC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,IAAI,EAAE,CAAC;IACX;EACJ,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACZ,MAAM,IAAI,CAACC,eAAe,CAAC;EAC/B,CAAC;EACDC,OAAO,EAAE;IACLD,eAAeA,CAAA,EAAG;MACdL,KAAI,CACCO,GAAG,CAAC,gBAAgB,EACpBC,IAAI,CAACC,QAAO,IAAK;QACd,IAAI,CAACN,IAAG,GAAIM,QAAQ,CAACP,IAAI,CAAC,CAAC;MAC/B,CAAC,EACAQ,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAAC;MACrC,CAAC;IACT,CAAC;IACDK,MAAMA,CAAA,EAAG;MACLhB,KAAI,CACCiB,IAAI,CAAC,uBAAuB,EAC5BT,IAAI,CAACC,QAAO,IAAK;QACdT,KAAK,CAACkB,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,IAAI,EAAC;QAElDC,YAAY,CAACC,UAAU,CAAC,UAAU;QAClCD,YAAY,CAACC,UAAU,CAAC,QAAQ;QAChCD,YAAY,CAACC,UAAU,CAAC,OAAO;QAE/B,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC,aAAa;QAEhC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG;MACzB,CAAC,EACAhB,KAAK,CAACC,KAAI,IAAK;QACZ,IAAIA,KAAK,CAACF,QAAQ,EAAE;UAChBG,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAACF,QAAQ,CAACP,IAAI,CAAC;QACnD,OAAO,IAAIS,KAAK,CAACgB,OAAO,EAAE;UACtBf,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAACgB,OAAO,CAAC;QAC7C,OAAO;UACHf,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAAC;QACrC;MACJ,CAAC;IACT;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}