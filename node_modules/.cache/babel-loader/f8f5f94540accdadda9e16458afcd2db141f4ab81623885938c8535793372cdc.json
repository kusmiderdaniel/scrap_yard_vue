{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'Dashboard',\n  data() {\n    return {\n      invoices: [],\n      clients: []\n    };\n  },\n  mounted() {\n    this.getInvoices();\n    this.getClients();\n  },\n  methods: {\n    getInvoices() {\n      axios.get('/api/v1/invoices/').then(response => {\n        for (let i = 0; i < response.data.length; i++) {\n          if (!response.data[i].is_credit_for) {\n            this.invoices.push(response.data[i]);\n          }\n        }\n      }).catch(error => {\n        console.log(JSON.stringify(error));\n      });\n    },\n    getClients() {\n      axios.get('/api/v1/clients/').then(response => {\n        for (let i = 0; i < response.data.length; i++) {\n          if (this.clients.length <= 5) {\n            this.clients.push(response.data[i]);\n          }\n        }\n      }).catch(error => {\n        console.log(JSON.stringify(error));\n      });\n    }\n  },\n  computed: {\n    unpaidInvoices() {\n      return this.invoices.filter(invoice => invoice.is_paid === false);\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","invoices","clients","mounted","getInvoices","getClients","methods","get","then","response","i","length","is_credit_for","push","catch","error","console","log","JSON","stringify","computed","unpaidInvoices","filter","invoice","is_paid"],"sources":["/Users/danielkusmider/Library/CloudStorage/OneDrive-Personal/Docs/Projects/ScrapYard/scrap_yard_vue/src/views/dashboard/Dashboard.vue"],"sourcesContent":["<template>\n    <div class=\"page-dashboard\">\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-12\">\n                <h1 class=\"title\">Dashboard</h1>\n            </div>\n\n            <div class=\"column is-6\">\n                <div class=\"box\">\n                    <h2 class=\"subtitle\">Unpaid invoices</h2>\n\n                    <table class=\"table is-fullwidth\">\n                        <thead>\n                            <tr>\n                                <th><div style=\"width: 10px;\">#</div></th>\n                                <th><div style=\"width: 120px;\">Client</div></th>\n                                <th><div style=\"width: 50px;\">Amount</div></th>\n                                <th><div class=\"has-text-centered\">Due date</div></th>\n                                <th><div style=\"width: 50px;\"></div></th>\n                            </tr>\n                        </thead>\n\n                        <tbody>\n                            <tr\n                                v-for=\"invoice in unpaidInvoices\"\n                                v-bind:key=\"invoice.id\"\n                            >\n                                <td>{{ invoice.invoice_number }}</td>\n                                <td>{{ invoice.client_name }}</td>\n                                <td class=\"has-text-right\">{{ invoice.gross_amount }}</td>\n                                <td class=\"has-text-centered\">{{ invoice.get_due_date_formatted }}</td>\n                                <td>\n                                    <router-link :to=\"{ name: 'Invoice', params: { id: invoice.id }}\">Details</router-link>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n\n            <div class=\"column is-6\">\n                <div class=\"box\">\n                    <h2 class=\"subtitle\">Newest clients</h2>\n\n                    <div\n                        v-for=\"client in clients\"\n                        v-bind:key=\"client.id\"\n                    >\n                        <div class=\"box mb-2\">\n                            <h3 class=\"is-size-4 mb-4\">{{ client.name }}</h3>\n\n                            <router-link :to=\"{ name: 'Client', params: { id: client.id }}\" class=\"button is-light\">Details</router-link>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n    name: 'Dashboard',\n    data() {\n        return {\n            invoices: [],\n            clients: [],\n        }\n    },\n    mounted() {\n        this.getInvoices()\n        this.getClients()\n    },\n    methods: {\n        getInvoices() {\n            axios\n                .get('/api/v1/invoices/')\n                .then(response => {\n                    for (let i = 0; i < response.data.length; i++) {\n                        if (!response.data[i].is_credit_for) {\n                            this.invoices.push(response.data[i])\n                        }\n                    }\n                })\n                .catch(error => {\n                    console.log(JSON.stringify(error))\n                })\n        },\n        getClients() {\n            axios\n                .get('/api/v1/clients/')\n                .then(response => {\n                    for (let i = 0; i < response.data.length; i++) {\n                        if (this.clients.length <= 5) {\n                            this.clients.push(response.data[i])\n                        }\n                    }\n                })\n                .catch(error => {\n                    console.log(JSON.stringify(error))\n                })\n        }\n    },\n    computed: {\n        unpaidInvoices() {\n            return this.invoices.filter(invoice => invoice.is_paid === false)\n        },\n    }\n}\n</script>"],"mappings":";AA6DA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACXC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE;IACb;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,WAAW,CAAC;IACjB,IAAI,CAACC,UAAU,CAAC;EACpB,CAAC;EACDC,OAAO,EAAE;IACLF,WAAWA,CAAA,EAAG;MACVN,KAAI,CACCS,GAAG,CAAC,mBAAmB,EACvBC,IAAI,CAACC,QAAO,IAAK;QACd,KAAK,IAAIC,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAID,QAAQ,CAACT,IAAI,CAACW,MAAM,EAAED,CAAC,EAAE,EAAE;UAC3C,IAAI,CAACD,QAAQ,CAACT,IAAI,CAACU,CAAC,CAAC,CAACE,aAAa,EAAE;YACjC,IAAI,CAACX,QAAQ,CAACY,IAAI,CAACJ,QAAQ,CAACT,IAAI,CAACU,CAAC,CAAC;UACvC;QACJ;MACJ,CAAC,EACAI,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAAC;MACrC,CAAC;IACT,CAAC;IACDV,UAAUA,CAAA,EAAG;MACTP,KAAI,CACCS,GAAG,CAAC,kBAAkB,EACtBC,IAAI,CAACC,QAAO,IAAK;QACd,KAAK,IAAIC,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAID,QAAQ,CAACT,IAAI,CAACW,MAAM,EAAED,CAAC,EAAE,EAAE;UAC3C,IAAI,IAAI,CAACR,OAAO,CAACS,MAAK,IAAK,CAAC,EAAE;YAC1B,IAAI,CAACT,OAAO,CAACW,IAAI,CAACJ,QAAQ,CAACT,IAAI,CAACU,CAAC,CAAC;UACtC;QACJ;MACJ,CAAC,EACAI,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACJ,KAAK,CAAC;MACrC,CAAC;IACT;EACJ,CAAC;EACDK,QAAQ,EAAE;IACNC,cAAcA,CAAA,EAAG;MACb,OAAO,IAAI,CAACpB,QAAQ,CAACqB,MAAM,CAACC,OAAM,IAAKA,OAAO,CAACC,OAAM,KAAM,KAAK;IACpE;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}